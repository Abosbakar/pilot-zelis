<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°deoloji Uyum Testi</title>
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        h1 { color: #0066cc; margin-bottom: 20px; }
        h2 { color: #555; font-size: 1.2em; margin-top: 25px; }
        button {
            background-color: #0066cc;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        .result-item {
            text-align: left;
            margin-bottom: 15px;
            padding: 10px;
            border-left: 4px solid #f39c12;
            background-color: #fafafa;
        }
        .result-question { font-weight: bold; color: #e67e22; }
        .result-choice { font-style: italic; color: #2c3e50; }
    </style>
</head>
<body>

<div class="container">
    <h1>Ä°deoloji Uyum Testi</h1>
    <p>YarÄ±n yazmak iÃ§in bahane bulma gÃ¶revini ciddiye aldÄ±m! Bu testi bitir ve Ã§Ä±kan sonuÃ§larÄ± bana at. ğŸ˜‰</p>
    
    <div id="game_area">
        <p>YÃ¼kleniyor...</p>
    </div>
</div>

<py-script>
# --- PYTHON KODU BAÅLANGIÃ‡ ---

# KullanÄ±cÄ±nÄ±n SaÄŸladÄ±ÄŸÄ± Ä°kilemler Listesi
IKILEM_LISTESI = [
    ("RECEP TAYYÄ°P ERDOÄAN", "MELÄ°H GÃ–KÃ‡EK"),
    ("Ã‡ay", "Kahve"),
    ("BeÅŸiktaÅŸ", "FenerbahÃ§e"),
    ("Karadeniz", "Ege"),
    ("iPhone", "Samsung"),
    ("Yurt DÄ±ÅŸÄ±nda YaÅŸamak", "TÃ¼rkiye'de YaÅŸamak"),
    ("BarÄ±ÅŸ ManÃ§o", "Sezen Aksu"),
    ("Zeki Demirkubuz", "Nuri Bilge Ceylan"),
    ("Ä°lk mesajda 'Åizofren misin' yazmak", "Takipten Ã§Ä±karÄ±lÄ±nca mesaj atmak"),
]

# AJANIN TERCÄ°HLERÄ°
AGENT_SECIMLERI = [
    "RECEP TAYYÄ°P ERDOÄAN",
    "Ã‡ay",
    "BeÅŸiktaÅŸ",
    "Karadeniz",
    "Samsung",
    "TÃ¼rkiye'de YaÅŸamak",
    "BarÄ±ÅŸ ManÃ§o",
    "Zeki Demirkubuz",
    "Ä°lk mesajda 'Åizofren misin' yazmak"
]

# Oyun Durumu
mevcut_ikilem_indexi = 0
oyuncu_secimleri = []
game_area = Element("game_area") 

def display_ikilem(index):
    """Mevcut ikilemi ekranda gÃ¶sterir."""
    if index >= len(IKILEM_LISTESI):
        display_results()
        return

    secenek_1 = IKILEM_LISTESI[index][0]
    secenek_2 = IKILEM_LISTESI[index][1]
    
    soru_metni = f"<h2>Ä°kilem {index + 1}/{len(IKILEM_LISTESI)}: {secenek_1} mÄ±, {secenek_2} mÄ±?</h2>"
    
    # SeÃ§eneklerin HTML'ini oluÅŸtur
    button_1 = f'<button id="btn1" py-click="record_choice(\'{secenek_1}\')">{secenek_1}</button>'
    button_2 = f'<button id="btn2" py-click="record_choice(\'{secenek_2}\')">{secenek_2}</button>'
    
    game_area.element.innerHTML = soru_metni + button_1 + button_2


def record_choice(secim):
    """KullanÄ±cÄ±nÄ±n seÃ§imini kaydeder ve bir sonraki ikileme geÃ§er."""
    global mevcut_ikilem_indexi
    
    # SeÃ§imi kaydet
    oyuncu_secimleri.append({
        'index': mevcut_ikilem_indexi,
        'cevap': secim
    })
    
    mevcut_ikilem_indexi += 1
    display_ikilem(mevcut_ikilem_indexi)


def display_results():
    """TartÄ±ÅŸma odaklÄ± final ekranÄ±nÄ± gÃ¶sterir. String yapÄ±sÄ± gÃ¼Ã§lendirildi."""
    
    tartisma_konulari = []
    uyum_sayisi = 0
    
    # SeÃ§imleri KarÅŸÄ±laÅŸtÄ±r
    for secim in oyuncu_secimleri:
        agent_secimi = AGENT_SECIMLERI[secim['index']]
        if secim['cevap'] == agent_secimi:
            uyum_sayisi += 1
        else:
            # Uyumsuzluk durumunda tartÄ±ÅŸma konusunu kaydet
            soru = IKILEM_LISTESI[secim['index']]
            tartisma_konulari.append({
                'soru': f"{soru[0]} vs {soru[1]}",
                'senin': secim['cevap'],
                'benim': agent_secimi
            })
            
    # SonuÃ§larÄ±n HTML'ini oluÅŸtur
    if tartisma_konulari:
        result_html = "<h2>FarklÄ± DÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼mÃ¼z Konular (TartÄ±ÅŸmaya AÃ§Ä±k!):</h2>"
        result_html += "<p>Hadi bu konularÄ± konuÅŸalÄ±m:</p>"
        
        for konu in tartisma_konulari:
            # HTML String'leri GÃ¼venli Åekilde BirleÅŸtiriliyor
            result_html += (
                "<div class='result-item'>" +
                f"<p class='result-question'>{konu['soru']}</p>" +
                f"<p>Senin SeÃ§imin: <span class='result-choice'>{konu['senin']}</span></p>" +
                f"<p>Benim SeÃ§imim: <span class='result-choice'>{konu['benim']}</span></p>" +
                "</div>"
            )
        
    else:
        result_html = "<h2>Tebrikler! Her Konuda AnlaÅŸÄ±yoruz!</h2>"
        result_html += "<p>HiÃ§ tartÄ±ÅŸma konumuz yok. MÃ¼kemmel bir uyum!</p>"

    
    # Final MesajÄ± (Stil Bilgisi Direkt String Olarak TanÄ±mlanÄ±yor)
    final_message = ("<p style='margin-top:20px; color:#1abc9c; font-weight:bold;'>" +
                     f"Toplam Uyum SayÄ±mÄ±z: {uyum_sayisi} / {len(IKILEM_LISTESI)}</p>")
    final_message += "<p style='margin-top:30px;'>Bu ekranÄ±n fotoÄŸrafÄ±nÄ± Ã§ekip bana gÃ¶nder. Hadi tartÄ±ÅŸmaya baÅŸlayalÄ±m! ğŸ˜‰</p>"
    
    game_area.element.innerHTML = result_html + final_message

# Oyunu baÅŸlat
display_ikilem(mevcut_ikilem_indexi)

# --- PYTHON KODU SONUÃ‡ ---
</py-script>
</body>
</html>
